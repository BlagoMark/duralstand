"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[582],{9582:function(e,t,r){r.r(t),r.d(t,{default:function(){return de}});var s=r(8683),n=r(5671),o=r(3144),i=r(136),a=r(5716),l=r(2791),u="Bio_bio__QKgZT",c="Bio_avatar__+oKzK",f="Bio_bio_content__OoJFY",p="Bio_name__nDeui",d="Bio_selectPhoto__ocdAj",m="Bio_error__Xo0B-",h=r(8055),_=r(885),j="Status_status__lCRhz",x="Status_editModeTrue__-a1Un",v="Status_editModeFalse__jRATj",w="Status_button__BxsvC",g=r(184),P=function(e){var t=(0,l.useState)(!1),r=(0,_.Z)(t,2),s=r[0],n=r[1],o=(0,l.useState)(e.status),i=(0,_.Z)(o,2),a=i[0],u=i[1];(0,l.useEffect)((function(){u(e.status)}),[e.status]);return(0,g.jsx)("div",{className:v,children:s?(0,g.jsxs)("div",{className:x,children:[(0,g.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},type:"text",value:a,autoFocus:!0}),(0,g.jsx)("button",{className:"button "+w,onClick:function(){n(!1),e.updateStatus(a)},children:"\u2714"})]}):(0,g.jsxs)("div",{className:j,children:[(0,g.jsx)("span",{children:e.status?e.status:"\u041f\u0440\u0438\u0432\u0435\u0442! \u042f \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c DuralStand \ud83d\udc4b"}),e.isOwner?(0,g.jsx)("button",{className:"button "+w,onClick:function(){n(!0)},children:"\u270e"}):null]})})},Z=r(8687),b=r(7781),C=r(4404),N=r(946),k=function(e){return(0,g.jsxs)("div",{className:u,children:[(0,g.jsxs)("div",{className:c,children:[(0,g.jsx)("img",{src:e.bio.photos.large?e.bio.photos.large:h,alt:"bio-img"}),e.isOwner?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("div",{className:d,children:(0,g.jsxs)("label",{children:[(0,g.jsx)("div",{children:"\ud83d\udcf7"}),(0,g.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}})]})})}):null]}),e.error?(0,g.jsx)("div",{className:m,children:e.error}):null,(0,g.jsxs)("div",{className:f,children:[(0,g.jsx)("h2",{className:p,children:e.bio.fullName}),(0,g.jsx)("br",{}),(0,g.jsx)(P,{isOwner:e.isOwner,status:e.status,updateStatus:e.updateStatus}),(0,g.jsxs)("p",{children:["\u0414\u0435\u043d\u044c \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f: ",e.bio.birthday?e.bio.birthday:"\u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"]}),(0,g.jsxs)("p",{children:["\u0413\u043e\u0440\u043e\u0434: ",e.bio.city?e.bio.city:"\u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"]})]}),(0,g.jsx)(C.Z,{isOwner:e.isOwner,id:e.bio.userId,followed:e.followed.followed,followTC:e.followTC,unfollowTC:e.unfollowTC})]})},y=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,o.Z)(r,[{key:"render",value:function(){return(0,g.jsx)(k,(0,s.Z)({},this.props))}}]),r}(l.Component),S=(0,b.qC)((0,Z.$j)(null,{followTC:N.iR,unfollowTC:N.Ky}))(y),O="Post_item__FKz4t",T="Post_item__img__AF3f3",F="Post_item__text__jjBrK",B="Post_like__8w4uY",I="Post_name__ykB+r",U=r(3504),W=function(e){return(0,g.jsxs)("div",{className:O,children:[(0,g.jsx)("div",{className:T,children:(0,g.jsx)("img",{src:e.avatar,alt:""})}),(0,g.jsxs)("div",{className:F,children:[e.message,(0,g.jsx)(U.OL,{to:"#markblagov",className:I,children:e.name})]}),(0,g.jsxs)("div",{className:B,onClick:function(){e.likes++},children:[(0,g.jsx)("span",{children:"\u2665"})," ",e.likes]})]})},q="Posts_posts__pBNDM",z="Posts_postsItems__PrTvf",D=r(6508),E=r(6139),K=r(704),M=r(7492),A=r(9557),R="WritePost_write__8ZMWh",$="WritePost_area__1vt3J",J="WritePost_btn__uh00Z",L="WritePost_postsTitle__w9d6P",Y=(0,A.D)(300),G=(0,K.Z)({form:"WritePost"})((function(e){return(0,g.jsxs)("form",{onSubmit:e.handleSubmit,className:R,children:[(0,g.jsx)(E.Z,{validate:[A.C,Y],component:M.gx,name:"WritePost",required:!0,placeholder:"\u0420\u0430\u0441\u0441\u043a\u0430\u0436\u0438\u0442\u0435, \u0447\u0442\u043e \u043d\u043e\u0432\u043e\u0433\u043e :)",className:$}),(0,g.jsx)("button",{className:"".concat(J," ","button"),children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})})),Q=function(e){return(0,g.jsx)(g.Fragment,{children:e.isOwner?(0,g.jsx)(G,{onSubmit:function(t){e.addPost(t.WritePost),e.reset("WritePost")}}):(0,g.jsx)("span",{className:L,children:"\u041f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438"})})},X=r(2381),H=(0,b.qC)((0,Z.$j)((function(e){return{newPostText:e.profilePage.newPostText}}),{addPost:D.q2,reset:X.mc}))(Q),V=function(e){return(0,g.jsxs)("div",{className:q,children:[(0,g.jsx)(H,{isOwner:e.isOwner}),(0,g.jsx)("div",{className:z,children:e.postsElements})]})},ee=(0,b.qC)((0,Z.$j)((function(e){return{postsElements:e.profilePage.posts.map((function(t){return(0,g.jsx)(W,{name:e.profilePage.profile.fullName,avatar:e.profilePage.profile.photos.small?e.profilePage.profile.photos.small:h,message:t.message,likes:t.likes},t.id)}))}}),{}))(V),te="Profile_content__g-Lde",re="Wallpaper_main_img__NFfs7",se=function(e){return(0,g.jsx)("img",{className:re,src:e.wallpaper,alt:"mainImg"})},ne=function(e){return(0,g.jsx)("div",{className:te,children:e.profile?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(se,{wallpaper:e.wallpaper}),(0,g.jsx)(S,{followed:e.router.location.state||!0,user:e.user,error:e.error,isOwner:e.isOwner,bio:e.profile,status:e.status,updateStatus:e.updateStatus,savePhoto:e.savePhoto}),(0,g.jsx)(ee,{isOwner:e.isOwner})]}):null})},oe=r(6840),ie=r(2618),ae=function(e){return e.profilePage.bio.wallpaper},le=function(e){return e.profilePage.profile},ue=function(e){return e.profilePage.status},ce=function(e){return e.auth.userId},fe=function(e){return e.auth.isAuth},pe=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,o.Z)(r,[{key:"refreshProfile",value:function(){var e=this.props.router.params;e["*"]||(e["*"]=this.props.authorizedUserId),this.props.getUserProfile(e),this.props.getUserStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){var t=this.props.router.params,r=e.router.params;t["*"]!==r["*"]&&this.refreshProfile()}},{key:"getIsOwner",value:function(){var e=this.props.authorizedUserId;return"/profile/"===this.props.router.location.pathname||this.props.router.location.pathname==="/profile/".concat(e)}},{key:"render",value:function(){return(0,g.jsx)(ne,(0,s.Z)((0,s.Z)({},this.props),{},{isOwner:this.getIsOwner()}))}}]),r}(l.Component),de=(0,b.qC)((0,Z.$j)((function(e){return{wallpaper:ae(e),profile:le(e),preloader:{Preloader:oe.Z},status:ue(e),authorizedUserId:ce(e),isAuth:fe(e),error:e.profilePage.error}}),{getUserProfile:D.et,getUserStatus:D.Tq,updateStatus:D.Nf,savePhoto:D.Ju}),ie.E)(pe)},4404:function(e,t,r){r.d(t,{Z:function(){return o}});r(2791);var s="User_unfollow__zwyPM",n=r(184),o=function(e){if(!e.isOwner)return e.followed?(0,n.jsx)("button",{onClick:function(){e.followTC(e.id),e.followed&&(e.followed=!1)},className:"".concat(s," button"),children:"\u0412\u044b \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u044b"}):(0,n.jsx)("button",{onClick:function(){e.unfollowTC(e.id)},className:"button",children:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"})}},7492:function(e,t,r){r.d(t,{Gr:function(){return d},II:function(){return p},gx:function(){return f}});var s=r(8683),n=r(5987),o=(r(2791),r(6139)),i=r(9234),a=r(184),l=["input","meta"],u=["input","meta"],c=function(e){var t=e.meta,r=e.element,s=t.error&&t.touched;return(0,a.jsx)("div",{className:i.Z.formControls+" "+(s?i.Z.error:""),children:r})},f=function(e){var t=e.input,r=e.meta,o=(0,n.Z)(e,l);return(0,a.jsx)(c,(0,s.Z)((0,s.Z)({},o),{},{meta:r,input:t,element:(0,a.jsx)("textarea",(0,s.Z)((0,s.Z)({},o),t))}))},p=function(e){var t=e.input,r=e.meta,o=(0,n.Z)(e,u);return(0,a.jsx)(c,(0,s.Z)((0,s.Z)({},o),{},{meta:r,input:t,element:(0,a.jsx)("input",(0,s.Z)((0,s.Z)({},o),t))}))},d=function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(0,a.jsx)(o.Z,(0,s.Z)({placeholder:e,name:t,validate:r,component:n},i))}},9557:function(e,t,r){r.d(t,{C:function(){return s},D:function(){return n}});var s=function(e){if(!e)return"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},n=function(e){return function(t){if(t.length>e)return"\u041f\u0440\u0435\u0432\u044b\u0448\u0435\u043d \u043b\u0438\u043c\u0438\u0442 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432: ".concat(e)}}},9234:function(e,t){t.Z={formControls:"FormsControls_formControls__npsiU",error:"FormsControls_error__wukgD",formSummaryError:"FormsControls_formSummaryError__Rdvzq"}},8055:function(e,t,r){e.exports=r.p+"static/media/user.a6143582309785dca610.png"}}]);
//# sourceMappingURL=582.22159583.chunk.js.map