"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[582],{9582:function(t,e,s){s.r(e),s.d(e,{default:function(){return ut}});var r=s(8683),n=s(5671),o=s(3144),i=s(136),a=s(5716),u=s(2791),l=s(6840),c={bio:"Bio_bio__QKgZT",avatar:"Bio_avatar__+oKzK",bio_content:"Bio_bio_content__OoJFY",status:"Bio_status__iEB8c",name:"Bio_name__nDeui",subscribe:"Bio_subscribe__ZfSVT",selectPhoto:"Bio_selectPhoto__ocdAj"},f=s(8055),p=s(885),d="Status_status__lCRhz",m="Status_editModeTrue__-a1Un",h="Status_editModeFalse__jRATj",_="Status_button__BxsvC",j=s(184),x=function(t){var e=(0,u.useState)(!1),s=(0,p.Z)(e,2),r=s[0],n=s[1],o=(0,u.useState)(t.status),i=(0,p.Z)(o,2),a=i[0],l=i[1];(0,u.useEffect)((function(){l(t.status)}),[t.status]);return(0,j.jsx)("div",{className:h,children:r?(0,j.jsxs)("div",{className:m,children:[(0,j.jsx)("input",{onChange:function(t){l(t.currentTarget.value)},type:"text",value:a,autoFocus:!0}),(0,j.jsx)("button",{className:"button "+_,onClick:function(){n(!1),t.updateStatus(a)},children:"\u2714"})]}):(0,j.jsxs)("div",{className:d,children:[(0,j.jsx)("span",{children:t.status?t.status:"\u041f\u0440\u0438\u0432\u0435\u0442! \u042f \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c DuralStand \ud83d\udc4b"}),t.isOwner?(0,j.jsx)("button",{className:"button "+_,onClick:function(){n(!0)},children:"\u270e"}):null]})})},v=s(6713),b=s(8687),g=s(7781),P=s(946),w=function(t){return(0,j.jsxs)("div",{className:c.bio,children:[(0,j.jsxs)("div",{className:c.avatar,children:[(0,j.jsx)("img",{src:t.bio.photos.large?t.bio.photos.large:f,alt:"bio-img"}),t.isOwner?(0,j.jsx)("div",{className:c.selectPhoto,children:(0,j.jsxs)("label",{children:[(0,j.jsx)("div",{children:"\ud83d\udcf7"}),(0,j.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&t.savePhoto(e.target.files[0])}})]})}):null]}),(0,j.jsxs)("div",{className:c.bio_content,children:[(0,j.jsx)("h2",{className:c.name,children:t.bio.fullName}),(0,j.jsx)("br",{}),(0,j.jsx)(x,{isOwner:t.isOwner,status:t.status,updateStatus:t.updateStatus}),(0,j.jsxs)("p",{children:["\u0414\u0435\u043d\u044c \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f: ",t.bio.birthday?t.bio.birthday:"\u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"]}),(0,j.jsxs)("p",{children:["\u0413\u043e\u0440\u043e\u0434: ",t.bio.city?t.bio.city:"\u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"]})]}),t.isOwner?null:(0,j.jsxs)("div",{className:c.subscribe,children:[(0,j.jsx)("button",{disabled:t.followInProgress,onClick:function(){t.followTC(t.bio.userId)},className:"".concat(c.unfollow," button"),children:"\u0412\u044b \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u044b"}),(0,j.jsx)("button",{disabled:t.followInProgress,onClick:function(){t.unfollowTC(t.bio.userId)},className:"button",children:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"})]})]})},Z=function(t){(0,i.Z)(s,t);var e=(0,a.Z)(s);function s(){return(0,n.Z)(this,s),e.apply(this,arguments)}return(0,o.Z)(s,[{key:"render",value:function(){return(0,j.jsx)(w,(0,r.Z)({},this.props))}}]),s}(u.Component),N=(0,g.qC)((0,b.$j)((function(t){return{followAPI:v.h3.follow,unfollowAPI:v.h3.unfollow}}),{follow:P.ZN,unfollow:P.fv,onShowMoreUsers:P.XU,toggleIsFollowInProgress:P.FU,followTC:P.iR,unfollowTC:P.Ky}))(Z),C="Post_item__FKz4t",S="Post_item__img__AF3f3",k="Post_item__text__jjBrK",y="Post_like__8w4uY",I="Post_name__ykB+r",O=s(3504),T=function(t){return(0,j.jsxs)("div",{className:C,children:[(0,j.jsx)("div",{className:S,children:(0,j.jsx)("img",{src:t.avatar,alt:""})}),(0,j.jsxs)("div",{className:k,children:[t.message,(0,j.jsx)(O.OL,{to:"#markblagov",className:I,children:t.name})]}),(0,j.jsxs)("div",{className:y,children:[(0,j.jsx)("span",{children:"\u2665"})," ",t.likes]})]})},F="Posts_posts__pBNDM",U="Posts_postsItems__PrTvf",B=s(6508),W=s(6139),q=s(704),D=s(7492),z=s(9557),A="WritePost_write__8ZMWh",E="WritePost_area__1vt3J",K="WritePost_btn__uh00Z",M="WritePost_postsTitle__w9d6P",R=(0,z.D)(300),$=(0,q.Z)({form:"WritePost"})((function(t){return(0,j.jsxs)("form",{onSubmit:t.handleSubmit,className:A,children:[(0,j.jsx)(W.Z,{validate:[z.C,R],component:D.gx,name:"WritePost",required:!0,placeholder:"\u0420\u0430\u0441\u0441\u043a\u0430\u0436\u0438\u0442\u0435, \u0447\u0442\u043e \u043d\u043e\u0432\u043e\u0433\u043e :)",className:E}),(0,j.jsx)("button",{className:"".concat(K," ","button"),children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})})),J=function(t){return(0,j.jsx)(j.Fragment,{children:t.isOwner?(0,j.jsx)($,{onSubmit:function(e){t.addPost(e.WritePost),t.reset("WritePost")}}):(0,j.jsx)("span",{className:M,children:"\u041f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438"})})},L=s(2381),Y=(0,g.qC)((0,b.$j)((function(t){return{newPostText:t.profilePage.newPostText}}),{addPost:B.q2,reset:L.mc}))(J),G=function(t){return(0,j.jsxs)("div",{className:F,children:[(0,j.jsx)(Y,{isOwner:t.isOwner}),(0,j.jsx)("div",{className:U,children:t.postsElements})]})},Q=(0,g.qC)((0,b.$j)((function(t){return{postsElements:t.profilePage.posts.map((function(e){return(0,j.jsx)(T,{name:t.profilePage.profile.fullName,avatar:t.profilePage.profile.photos.small?t.profilePage.profile.photos.small:f,message:e.message,likes:e.likes})}))}}),{}))(G),V="Profile_content__g-Lde",X="Wallpaper_main_img__NFfs7",H=function(t){return(0,j.jsx)("img",{className:X,src:t.wallpaper,alt:"mainImg"})},tt=function(t){return(0,j.jsx)("div",{className:V,children:t.profile?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(H,{wallpaper:t.wallpaper}),(0,j.jsx)(N,{isOwner:t.isOwner,bio:t.profile,status:t.status,updateStatus:t.updateStatus,savePhoto:t.savePhoto}),(0,j.jsx)(Q,{isOwner:t.isOwner})]}):(0,j.jsx)(l.Z,{})})},et=s(2618),st=function(t){return t.profilePage.bio.wallpaper},rt=function(t){return t.profilePage.profile},nt=function(t){return t.profilePage.status},ot=function(t){return t.auth.userId},it=function(t){return t.auth.isAuth},at=function(t){(0,i.Z)(s,t);var e=(0,a.Z)(s);function s(){return(0,n.Z)(this,s),e.apply(this,arguments)}return(0,o.Z)(s,[{key:"refreshProfile",value:function(){var t=this.props.router.params;t["*"]||(t["*"]=this.props.authorizedUserId),this.props.getUserProfile(t),this.props.getUserStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t){var e=this.props.router.params,s=t.router.params;e["*"]!==s["*"]&&this.refreshProfile()}},{key:"getIsOwner",value:function(){var t=this.props.authorizedUserId;return"/profile/"===this.props.router.location.pathname||this.props.router.location.pathname==="/profile/".concat(t)}},{key:"render",value:function(){return(0,j.jsx)(tt,(0,r.Z)((0,r.Z)({},this.props),{},{isOwner:this.getIsOwner()}))}}]),s}(u.Component),ut=(0,g.qC)((0,b.$j)((function(t){return{wallpaper:st(t),profile:rt(t),preloader:{Preloader:l.Z},status:nt(t),authorizedUserId:ot(t),isAuth:it(t)}}),{getUserProfile:B.et,getUserStatus:B.Tq,updateStatus:B.Nf,savePhoto:B.Ju}),et.E)(at)},7492:function(t,e,s){s.d(e,{Gr:function(){return d},II:function(){return p},gx:function(){return f}});var r=s(8683),n=s(5987),o=(s(2791),s(6139)),i=s(9234),a=s(184),u=["input","meta"],l=["input","meta"],c=function(t){var e=t.meta,s=t.element,r=e.error&&e.touched;return(0,a.jsx)("div",{className:i.Z.formControls+" "+(r?i.Z.error:""),children:s})},f=function(t){var e=t.input,s=t.meta,o=(0,n.Z)(t,u);return(0,a.jsx)(c,(0,r.Z)((0,r.Z)({},o),{},{meta:s,input:e,element:(0,a.jsx)("textarea",(0,r.Z)((0,r.Z)({},o),e))}))},p=function(t){var e=t.input,s=t.meta,o=(0,n.Z)(t,l);return(0,a.jsx)(c,(0,r.Z)((0,r.Z)({},o),{},{meta:s,input:e,element:(0,a.jsx)("input",(0,r.Z)((0,r.Z)({},o),e))}))},d=function(t,e,s,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(0,a.jsx)(o.Z,(0,r.Z)({placeholder:t,name:e,validate:s,component:n},i))}},9557:function(t,e,s){s.d(e,{C:function(){return r},D:function(){return n}});var r=function(t){if(!t)return"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},n=function(t){return function(e){if(e.length>t)return"\u041f\u0440\u0435\u0432\u044b\u0448\u0435\u043d \u043b\u0438\u043c\u0438\u0442 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432: ".concat(t)}}},9234:function(t,e){e.Z={formControls:"FormsControls_formControls__npsiU",error:"FormsControls_error__wukgD",formSummaryError:"FormsControls_formSummaryError__Rdvzq"}},8055:function(t,e,s){t.exports=s.p+"static/media/user.a6143582309785dca610.png"}}]);
//# sourceMappingURL=582.62cc478e.chunk.js.map